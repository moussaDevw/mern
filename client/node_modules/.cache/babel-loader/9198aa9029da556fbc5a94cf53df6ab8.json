{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\imra\\\\OneDrive\\\\Bureau\\\\mern\\\\client\\\\src\\\\component\\\\Page\\\\profileAdmin\\\\ProfilAdmin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { getCookie } from '../../helpers/helper';\nimport { ListUser } from './ListUser';\nimport { ModifyUser } from './ModifyUser';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProfilAdmin = () => {\n  _s();\n\n  const [users, setUsers] = useState([{\n    name: \"\",\n    email: \"\",\n    role: \"\"\n  }]);\n  const [current, setCurrent] = useState([{\n    _id: null,\n    name: \"\",\n    email: \"\",\n    role: \"\"\n  }]);\n  const {\n    name,\n    email,\n    role\n  } = users;\n  const [edit, setEdit] = useState(false);\n\n  const editUser = user => {\n    setEdit(true);\n    setCurrent({\n      _id: user._id,\n      name: user.name,\n      email: user.email,\n      role: user.role\n    });\n    console.log(current);\n  };\n\n  const token = getCookie('token');\n  useEffect(() => {\n    axios({\n      method: 'GET',\n      url: `http://localhost:3001/listUser`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setUsers(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  const deleteUser = id => {\n    axios({\n      method: 'DELETE',\n      url: `http://localhost:3001/deleteUser/${id}`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setUsers(users.filter(user => user._id !== id));\n      toast.success(response.data.message);\n    }).catch(error => {\n      console.log(error.response.data.error);\n    });\n  };\n\n  const updateUser = (id, updatedUser) => {\n    setEdit(false);\n    axios({\n      method: 'PUT',\n      url: `http://localhost:3001/modifyUser/${id}`,\n      data: {\n        name,\n        email\n      },\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setUsers(users.map(user => user._id === id ? data : user));\n      toast.success(response.data.message);\n    }).catch(error => {\n      toast.error(error.response.data.error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), edit ? /*#__PURE__*/_jsxDEV(ModifyUser, {\n      current: current,\n      setEdit: setEdit,\n      updateUser: updateUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(ListUser, {\n      users: users,\n      deleteUser: deleteUser,\n      editUser: editUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProfilAdmin, \"XXuUK7cvSC7ohcDzrV6PETLtVgA=\");\n\n_c = ProfilAdmin;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilAdmin\");","map":{"version":3,"sources":["C:/Users/imra/OneDrive/Bureau/mern/client/src/component/Page/profileAdmin/ProfilAdmin.js"],"names":["React","useEffect","useState","getCookie","ListUser","ModifyUser","ToastContainer","toast","axios","ProfilAdmin","users","setUsers","name","email","role","current","setCurrent","_id","edit","setEdit","editUser","user","console","log","token","method","url","headers","Authorization","then","response","data","catch","error","deleteUser","id","filter","success","message","updateUser","updatedUser","map"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport {getCookie} from '../../helpers/helper'\r\nimport {ListUser} from './ListUser'\r\nimport {ModifyUser} from './ModifyUser'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios'\r\nexport const ProfilAdmin = ()=>{\r\n    const [users,setUsers] = useState([{\r\n        name:\"\",\r\n        email:\"\",\r\n        role:\"\"\r\n    }])\r\n    const [current,setCurrent] = useState([{\r\n        _id:null,\r\n        name:\"\",\r\n        email:\"\",\r\n        role:\"\"\r\n    }])\r\n    const {name,email,role} = users\r\n    const [edit,setEdit] = useState(false)\r\n    const editUser = (user)=>{\r\n        setEdit(true)\r\n        setCurrent({_id:user._id,name:user.name,email:user.email,role:user.role})\r\n        console.log(current)\r\n    }\r\n    const token = getCookie('token')\r\n    useEffect(()=>{\r\n        axios({\r\n            method:'GET',\r\n            url:`http://localhost:3001/listUser`,\r\n            headers:{\r\n                Authorization:`Bearer ${token}`\r\n            }\r\n        }).then(response=>{\r\n            setUsers(response.data)\r\n        }).catch(error=>{\r\n            console.log(error)\r\n        })\r\n    },[])\r\n    const deleteUser = id =>{\r\n        axios({\r\n            method:'DELETE',\r\n            url:`http://localhost:3001/deleteUser/${id}`,\r\n            headers:{\r\n                Authorization:`Bearer ${token}`\r\n            }\r\n        }).then((response)=>{\r\n            setUsers(users.filter(user=>user._id !== id))\r\n            toast.success(response.data.message)\r\n        }).catch(error=>{\r\n            console.log(error.response.data.error)\r\n        })\r\n    }\r\n    const updateUser = (id,updatedUser)=>{\r\n        setEdit(false)\r\n        axios({\r\n            method:'PUT',\r\n            url:`http://localhost:3001/modifyUser/${id}`,\r\n            data:{name,email},\r\n            headers:{\r\n                Authorization:`Bearer ${token}`\r\n            }\r\n        }).then(response=>{\r\n            setUsers(users.map(user=>user._id === id ? data : user))\r\n            toast.success(response.data.message)\r\n        }).catch(error=>{\r\n            toast.error(error.response.data.error)\r\n        })\r\n    }\r\n    return(\r\n        <div>\r\n            <ToastContainer />\r\n            {\r\n                edit ? (\r\n                <ModifyUser current={current} setEdit={setEdit} updateUser={updateUser} />\r\n                ) : (\r\n                    <ListUser users={users} deleteUser={deleteUser} editUser={editUser} />\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}